<div class="pagetitle">
  <nav>
    <ol class="breadcrumb"></ol>
  </nav>
</div>
<div class="py-3" style="background-color: #ffffff; border-radius: 10px">
  <div class="d-flex mx-3" style="justify-content: space-between">
    <h6>Description</h6>
    <div class="buttons-section">
      <button
        pButton
        pRipple
        type="button"
        label="Save & Close"
        class="p-button-raised"
      ></button>
      <button
        pButton
        pRipple
        type="button"
        label="Save & Add New"
        class="p-button-raised"
      ></button>
      <button
        pButton
        pRipple
        type="button"
        label="Reset"
        class="p-button-warning"
        style="background: rgb(250 165 52)"
      ></button>
    </div>
  </div>
  <p class="description-text">
    Based on the critetria selected banks will be routed to preferred routing
    bank...
  </p>
  <div class="criteria-main-section">
    <div class="criteria-bar">
      <p class="setCriteria">Set Criteria</p>
      <div class="openCriteria">
        <p>
          <a (click)="showTransCriteriaModal()">LCY Amount Slab</a>
        </p>
        <p class="clickcriteria">
          <a (click)="openClickForSave()"
            >Click to save this Criteria as a template</a
          >
        </p>
      </div>
    </div>
    <p-dialog [(visible)]="clickforsave" [style]="{ width: '30vw' }">
      <ng-template pTemplate="header"> Save Template </ng-template>
      <p>Name</p>
      <input type="text" class="form-control" [(ngModel)]="criteriaName" />
      <ng-template pTemplate="footer" style="text-align: center">
        <button
          pButton
          pRipple
          type="button"
          label="Save"
          (click)="saveCriteriaAsTemplate()"
          class="p-button-raised"
        ></button>
      </ng-template>
    </p-dialog>

    <div class="dropdowns-select-container mb-3">
      <div class="left-dropdowns">
        <p-dropdown
          class="mr-3"
          [options]="criteriaMapDdlOptions"
          optionLabel="name"
          optionValue="code"
          placeholder="Select a Criteria"
          [(ngModel)]="criteriaMap.criteria"
          (onChange)="onChange('criteria', $event.value)"
        ></p-dropdown>

        <p-dropdown
          class="mr-3"
          [options]="criteriaEqualsDdlOptions"
          optionLabel="name"
          optionValue="code"
          placeholder="Select a Operation"
          [(ngModel)]="criteriaMap.condition"
          (onChange)="onChange('condition', $event.value)"
        ></p-dropdown>

        <p-dropdown
          class="mr-1"
          [options]="correspondentDdlOptions"
          optionLabel="name"
          optionValue="code"
          placeholder="Select a Value"
          [(ngModel)]="criteriaMap.val"
          (onChange)="onChange('val', $event.value)"
        ></p-dropdown>
        <button
          pButton
          pRipple
          style="width: 35px"
          type="button"
          label="+"
          class="p-button-primary"
          (click)="addCriteriaMap()"
        ></button>
      </div>
      <div class="right-select">
        <p-dropdown
          class="templates-dropdown"
          [options]="criteriaTemplatesDdlOptions"
          optionLabel="name"
          optionValue="code"
          placeholder="{{
            criteriaTemplatesDdlOptions.length
              ? 'Select Template'
              : 'No saved templates'
          }}"
          [(ngModel)]="criteriaMap.val"
          (onChange)="selectCriteriaTemplate($event.value)"
        ></p-dropdown>
        <!-- <select
          #template
          class="form-select"
          aria-label="Default select example"
          style="width: 200px"
          (change)="selectCriteriaTemplate(template.value)"
        >
          <option *ngIf="!criteriaTemplatesDdlOptions.length" selected>
            No Saved Templates
          </option>
          <option *ngIf="criteriaTemplatesDdlOptions.length" selected>
            Select Template
          </option>
          <option *ngFor="let name of criteriaTemplatesDdlOptions">
            {{ name.criteriaName }}
          </option>
        </select> -->
      </div>
    </div>
    <div style="padding: 0 1rem; display: flex; flex-wrap: wrap">
      <span
        *ngFor="let criteria of criteriaText; let i = index"
        class="criteria-span"
        >{{ criteria }}
        <span
          role="button"
          style="padding: 0px 0px 0px 15px; margin-bottom: 10px"
          (click)="ondeletecriteria(i)"
        >
          <svg
            style="margin-bottom: 4px"
            xmlns="http://www.w3.org/2000/svg"
            width="12.6"
            height="12.6"
            fill="#dc3545"
            class="bi bi-x-circle"
            viewBox="0 0 16 16"
          >
            <path
              d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
            />
            <path
              d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
            />
          </svg>
        </span>
      </span>
    </div>
    <div class="mt-3">
      <p-table class="payment-mode-table" #dt [value]="" sortMode="multiple">
        <ng-template pTemplate="header">
          <tr>
            <th
              pSortableColumn=""
              style="background-color: #eaedf4; font-size: 12px; color: #8a9099"
            >
              Country
            </th>
            <th
              pSortableColumn=""
              style="background-color: #eaedf4; font-size: 12px; color: #8a9099"
            >
              Route Bank Name
            </th>
            <th
              pSortableColumn=""
              style="background-color: #eaedf4; font-size: 12px; color: #8a9099"
            >
              Service Category
            </th>
            <th
              pSortableColumn=""
              style="background-color: #eaedf4; font-size: 12px; color: #8a9099"
            >
              Service type
            </th>
            <th
              pSortableColumn=""
              style="background-color: #eaedf4; font-size: 12px; color: #8a9099"
            >
              Is Correspodent
            </th>
            <th
              pSortableColumn=""
              style="background-color: #eaedf4; font-size: 12px; color: #8a9099"
            >
              Route to
            </th>
            <th
              pSortableColumn=""
              style="background-color: #eaedf4; font-size: 12px; color: #8a9099"
            >
              Service Category
            </th>
            <th
              pSortableColumn=""
              style="background-color: #eaedf4; font-size: 12px; color: #8a9099"
            >
              Service type
            </th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-payment>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>

  <div class="mt-5" style="text-align: center">
    <div class="addnew2">
      <button
        pButton
        pRipple
        type="button"
        label="Save & Close"
        class="p-button-raised"
      ></button>
      <button
        pButton
        pRipple
        type="button"
        label="Save & Add New"
        class="p-button-raised"
      ></button>
      <button
        pButton
        pRipple
        type="button"
        label="Reset"
        class="p-button-warning"
        style="background: rgb(250 165 52)"
      ></button>
    </div>
  </div>
</div>
